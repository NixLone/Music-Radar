<!DOCTYPE html>
<html lang="ru" data-theme="auto">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Music Finder</title>
  <link rel="stylesheet" href="./styles.css" />
</head>
<body>
<div class="menu-buttons" style="text-align:center;">
<button onclick="showTab('search')">üîç –ü–æ–∏—Å–∫</button>
<button onclick="showTab('favorites')">‚≠ê –ò–∑–±—Ä–∞–Ω–Ω–æ–µ</button>
<button onclick="showTab('playlist')">üéµ –ü–ª–µ–π–ª–∏—Å—Ç</button>
</div>

  <div class="container">
    <header>
      <div class="brand">
        <svg class="logo-svg" aria-hidden="true" width="28" height="28" viewBox="0 0 28 28">
  <defs>
    <mask id="logoHole"><rect width="28" height="28" fill="white"/><circle cx="14" cy="14" r="8" fill="black"/></mask>
  </defs>
  <circle cx="14" cy="14" r="12" fill="none" stroke="currentColor" stroke-width="2"/>
  <g class="sweep" mask="url(#logoHole)">
    <path d="M14 14 L26 14 A12 12 0 0 0 14 2 Z" fill="currentColor" opacity="0.25"/>
  </g>
</svg>
        <div>Music Finder</div>
      </div>
      <div class="tools">
        <select id="lang" class="select"><option value="ru">RU</option><option value="en">EN</option></select>
        <select id="theme" class="select"><option value="auto">Auto</option><option value="light">Light</option><option value="dark">Dark</option></select>
        <button id="openStats" class="btn">üìà</button>
      </div>
    </header>

    <div id="tab-search">
      <div class="search">
        <div class="ac-wrap">
          <input id="q" type="text" inputmode="search" placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –ø–µ—Å–Ω–∏ –∏–ª–∏ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è" autocomplete="off"/>
          <div id="ac" class="ac-list"></div>
        </div>
        <button id="go" class="btn">–ü–æ–∏—Å–∫</button>
        <button id="clear" class="btn">–û—á–∏—Å—Ç–∏—Ç—å</button>
      </div>

      <div class="status">
        <div><span id="statusText">–ì–æ—Ç–æ–≤.</span> <span id="source" style="margin-left:8px;font-size:12px;opacity:.8"></span></div>
        <div class="filters">
          <select id="fArtist" class="select"><option value="">–í—ã–±—Ä–∞—Ç—å –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è</option></select>
          <select id="fAlbum"  class="select"><option value="">–í—ã–±—Ä–∞—Ç—å –∞–ª—å–±–æ–º</option></select>
          <select id="sort"    class="select">
            <option value="relevance">–°–æ—Ä—Ç: –ü–æ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç–∏</option>
            <option value="title">–ù–∞–∑–≤–∞–Ω–∏–µ</option>
            <option value="artist">–ê—Ä—Ç–∏—Å—Ç</option>
            <option value="duration">–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å</option>
            <option value="source">–ò—Å—Ç–æ—á–Ω–∏–∫</option>
          </select>
        </div>
      </div>

      <div id="results" class="results"></div>
      <div id="moreWrap" style="text-align:center;margin-top:16px;display:none;"><button id="more" class="btn">–ü–æ–∫–∞–∑–∞—Ç—å –µ—â—ë</button></div>
    </div>

    <div id="tab-favorites" style="display:none;">
      <h3>–ò–∑–±—Ä–∞–Ω–Ω–æ–µ</h3>
      <div id="favorites"></div>
    </div>

    <div id="tab-playlist" style="display:none;">
      <h3>–ü–ª–µ–π–ª–∏—Å—Ç—ã</h3>
      <div style="display:flex; gap:8px; align-items:center; flex-wrap:wrap; margin:8px 0 12px;">
        <input id="plNameInput" class="select" style="min-width:220px;" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ –ø–ª–µ–π–ª–∏—Å—Ç–∞"/>
        <button id="createPlBtn" class="btn">–°–æ–∑–¥–∞—Ç—å –ø–ª–µ–π–ª–∏—Å—Ç</button>
        <select id="plSelect" class="select"><option value="">–í—ã–±—Ä–∞—Ç—å –ø–ª–µ–π–ª–∏—Å—Ç</option></select>
<span id="plCountBadge" class="badge">0</span>
<button id="renamePlBtn" class="btn">–ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞—Ç—å</button>
<button id="deletePlBtn" class="btn" style="background:linear-gradient(135deg,#ef4444,#f97316)">–£–¥–∞–ª–∏—Ç—å</button>
<button id="clearPlBtn" class="btn" style="background:linear-gradient(135deg,#f59e0b,#f97316)">–û—á–∏—Å—Ç–∏—Ç—å</button>
      </div>
      <div id="playlistTracks"></div>
    </div>

    <div class="footer" style="text-align:center;color:var(--muted);margin-top:28px;font-size:13px">
      –ü—Ä–µ–≤—å—é ‚Äî iTunes/Deezer (‚âà30 —Å–µ–∫). –ü–æ–ª–Ω—ã–µ —Ç—Ä–µ–∫–∏ –Ω–µ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è—é—Ç—Å—è.
    </div>
  </div>

  <!-- –ú–∏–Ω–∏-–ø–ª–µ–µ—Ä -->
  <div id="player" class="player" role="region" aria-label="–ú–∏–Ω–∏-–ø–ª–µ–µ—Ä">
    <div class="row">
      <div id="pCover" class="cover" style="background:#0b1224"></div>
      <div class="meta"><p id="pTitle" class="t">‚Äî</p><p id="pArtist" class="s">‚Äî</p></div>
      <div class="controls">
        <!-- Prev -->
        <button id="btnPrev" class="icon-btn" aria-label="–ü—Ä–µ–¥—ã–¥—É—â–∏–π —Ç—Ä–µ–∫">
          <svg viewBox="0 0 24 24" aria-hidden="true">
            <rect x="5" y="5" width="2" height="14" rx="1" fill="currentColor"></rect>
            <polygon points="15,6 7,12 15,18" fill="currentColor"></polygon>
          </svg>
        </button>
        <!-- Play / Pause -->
        <button id="btnPlay" class="icon-btn" aria-label="–ü–∞—É–∑–∞/–í–æ—Å–ø—Ä–æ–∏–∑–≤–µ—Å—Ç–∏" data-state="play">
          <svg id="icoPlay" viewBox="0 0 24 24" aria-hidden="true">
            <polygon points="8,5 8,19 18,12" fill="currentColor"></polygon>
          </svg>
          <svg id="icoPause" viewBox="0 0 24 24" aria-hidden="true" style="display:none">
            <rect x="6"  y="5" width="4" height="14" rx="1" fill="currentColor"></rect>
            <rect x="14" y="5" width="4" height="14" rx="1" fill="currentColor"></rect>
          </svg>
        </button>
        <!-- Next -->
        <button id="btnNext" class="icon-btn" aria-label="–°–ª–µ–¥—É—é—â–∏–π —Ç—Ä–µ–∫">
          <svg viewBox="0 0 24 24" aria-hidden="true">
            <polygon points="9,6 17,12 9,18" fill="currentColor"></polygon>
            <rect x="17" y="5" width="2" height="14" rx="1" fill="currentColor"></rect>
          </svg>
        </button>
        <!-- Add to -->
        <button id="btnFav" class="pill" style="min-height:30px;font-size:12px">‚≠ê –í –∏–∑–±—Ä–∞–Ω–Ω–æ–µ</button>
        <button id="btnAddPl" class="pill" style="min-height:30px;font-size:12px">‚ûï –í –ø–ª–µ–π–ª–∏—Å—Ç</button>
        <!-- Close -->
        <button id="btnClose" class="icon-btn" aria-label="–ó–∞–∫—Ä—ã—Ç—å –ø–ª–µ–µ—Ä">
          <svg viewBox="0 0 24 24" aria-hidden="true">
            <path d="M6 6 L18 18 M18 6 L6 18" stroke="currentColor" stroke-width="2" fill="none"/>
          </svg>
        </button>
      </div>
    </div>
    <div class="bar" id="bar"><div class="p" id="barP"></div></div>
    <div class="time"><span id="tCur">0:00</span><span id="tDur">0:30</span></div>
  </div>

  <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
  <dialog id="statsDlg">
    <h3 id="statsTitle">–õ–æ–∫–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h3>
    <div id="statsBody"></div>
    <div style="margin-top:10px;display:flex;gap:8px;justify-content:flex-end">
      <button id="closeStats" class="btn">OK</button>
      <button id="resetStats" class="btn" style="background:linear-gradient(135deg,#ef4444,#f97316)">–°–±—Ä–æ—Å</button>
    </div>
  </dialog>

  <!-- Scripts in the same order & content as original, just split -->
  <script src="./main.js"></script>
  <script src="./saved.js"></script>
  <script src="./tabs.js"></script>

  <!-- –î–∏–∞–ª–æ–≥ –≤—ã–±–æ—Ä–∞/—Å–æ–∑–¥–∞–Ω–∏—è –ø–ª–µ–π–ª–∏—Å—Ç–∞ -->
  <dialog id="plDlg">
    <h3 style="margin:0 0 8px">–î–æ–±–∞–≤–∏—Ç—å –≤ –ø–ª–µ–π–ª–∏—Å—Ç</h3>
    <div style="display:flex;flex-direction:column;gap:10px;min-width:320px;max-width:520px">
      <input id="plSearch" class="select" placeholder="–ü–æ–∏—Å–∫ –ø–æ –ø–ª–µ–π–ª–∏—Å—Ç–∞–º" />
      <div id="plList" style="max-height:260px;overflow:auto;border:1px solid var(--border);border-radius:10px;padding:6px"></div>
      <div style="display:flex;gap:8px;align-items:center;flex-wrap:wrap">
        <input id="plNewName" class="select" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –ø–ª–µ–π–ª–∏—Å—Ç–∞" />
        <button id="plCreate" class="btn">–°–æ–∑–¥–∞—Ç—å</button>
      </div>
      <div style="display:flex;gap:8px;justify-content:flex-end">
        <button id="plCancel" class="btn" style="background:linear-gradient(135deg,#6b7280,#374151)">–û—Ç–º–µ–Ω–∞</button>
        <!-- Add to -->
        <button id="btnFav" class="pill" style="min-height:30px;font-size:12px">‚≠ê –í –∏–∑–±—Ä–∞–Ω–Ω–æ–µ</button>
        <button id="btnAddPl" class="pill" style="min-height:30px;font-size:12px">‚ûï –í –ø–ª–µ–π–ª–∏—Å—Ç</button>
        <!-- Close -->
        <button id="btnClose" class="icon-btn" aria-label="–ó–∞–∫—Ä—ã—Ç—å –ø–ª–µ–µ—Ä">
          <svg viewBox="0 0 24 24" aria-hidden="true">
            <path d="M6 6 L18 18 M18 6 L6 18" stroke="currentColor" stroke-width="2" fill="none"/>
          </svg>
        </button>
      </div>
    </div>
  </dialog>

</body>
</html>
